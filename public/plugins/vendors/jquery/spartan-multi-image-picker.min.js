! function(a) {
	"use strict";
	a.fn.spartanMultiImagePicker = function(t) {
		var i = 0,
			e = 0,
			n = 0,
			r = a.extend({
				fieldName: "",
				groupClassName: "col-md-4 col-sm-4 col-xs-6",
				rowHeight: "200px",
				maxCount: ""
			}, t);

		function o(t, n) {
			e = i;
			var r = t.groupClassName,
				o = t.rowHeight,
				d = t.fieldName,
				s = `<div class="${r}" data-spartanindexrow="${i}" style="margin-bottom : 20px;">` + `<label class="file_upload" style="width: 100%; height: ${o}; border: 2px dashed #ddd; border-radius: 3px; cursor: pointer; text-align: center; overflow: hidden; padding: 5px; margin-top: 5px; margin-bottom : 5px; position : relative; display: flex; align-items: center; margin: auto; justify-content: center; flex-direction: column;">` + `<a href="javascript:void(0)" data-spartanindexremove="${i}" style="position: absolute !important; right : 3px; top: 3px; display : none; background : #ED3C20; border-radius: 3px; width: 30px; height: 30px; line-height : 30px; text-align: center; text-decoration : none; color : #FFF;" class="spartan_remove_row">&#10006;</a>` + `<img style="width: 64px; margin: 0 auto; vertical-align: middle;" data-spartanindexi="${i}" src="https://demowebdesignservices.com/salahmat_dev/public/images/upload.jpg" /> ` + `<img style="width: 100%; vertical-align: middle; display:none;" class="img_" data-spartanindeximage="${i}">` + `<input class="form-control spartan_image_input" accept="image/*" data-spartanindexinput="${i}" style="display : none"  name="${d}" type="file">` + "</label> </div>",
				p = a.parseHTML(s);
			a(n).append(p), i++
		}
		return this.each(function() {
			var t = this;
			o(r, t), a(this).on("change", ".spartan_image_input", function() {
				! function(t, i, e) {
					if (i.files && i.files[0]) {
						var r = new FileReader;
						r.onload = function(t) {
							var n = a(i).data("spartanindexinput");
							a(e).find('img[data-spartanindexi="' + n + '"]').hide(), a(e).find('a[data-spartanindexremove="' + n + '"]').show(), a(e).find('img[data-spartanindeximage="' + n + '"]').attr("src", t.target.result), a(e).find('img[data-spartanindeximage="' + n + '"]').show()
						}, r.readAsDataURL(i.files[0]), n++, "" == t.maxCount ? o(t, e) : "" != t.maxCount && n < t.maxCount && o(t, e)
					}
				}(r, this, t)
			}), a(this).on("click", ".spartan_remove_row", function() {
				! function(t, i, r) {
					var d = a(i).data("spartanindexremove");
					a(r).find('[data-spartanindexrow="' + d + '"]').remove(), e == d && o(t, r), n--
				}(r, this, t)
			})
		})
	}
}(jQuery);